# Vue 3 TodoList 前端项目启动说明

## ✅ 已完成的功能

### 1. 项目配置
- ✅ Vite 配置（路径别名、API代理）
- ✅ Vue Router 路由配置
- ✅ Pinia 状态管理
- ✅ Element Plus UI 框架
- ✅ Axios HTTP 客户端

### 2. 已实现的页面
- ✅ 登录页面 (`/login`)
- ✅ 注册页面 (`/register`)
- ✅ Dashboard 首页 (`/dashboard`) - 临时页面
- ⏳ 待办事项页面 (`/todos`) - 待实现
- ⏳ 专注时间页面 (`/focus`) - 待实现
- ⏳ 纪念日页面 (`/anniversaries`) - 待实现

### 3. 功能特性
- ✅ 用户认证（登录/注册/登出）
- ✅ 路由守卫（未登录自动跳转）
- ✅ Token 管理（LocalStorage）
- ✅ API 请求拦截器
- ✅ 统一错误处理

---

## 🚀 启动步骤

### 1. 启动后端服务
确保后端 Spring Boot 应用已在 `localhost:8080` 运行

### 2. 启动前端开发服务器
```bash
cd d:\spring_projects\todolist\todolist\todolist-vue
npm run dev
```

### 3. 访问应用
打开浏览器访问: [http://localhost:5173](http://localhost:5173)

---

## 📝 测试流程

### 1. 注册新用户
1. 访问 http://localhost:5173
2. 自动跳转到登录页
3. 点击"立即注册"
4. 填写注册信息：
   - 用户名：testuser
   - 邮箱：test@example.com
   - 密码：123456
   - 确认密码：123456
5. 点击"注册"按钮

### 2. 登录
1. 注册成功后会自动跳转到登录页
2. 输入用户名和密码
3. 点击"登录"按钮
4. 登录成功后跳转到 Dashboard

### 3. 测试路由守卫
- 未登录时访问 `/dashboard`、`/todos` 等页面会自动跳转到 `/login`
- 已登录时访问 `/login`、`/register` 会自动跳转到 `/dashboard`

---

## 📁 项目结构

```
todolist-vue/
├── src/
│   ├── components/          # 组件（待添加）
│   ├── router/
│   │   └── index.js        # 路由配置
│   ├── services/
│   │   └── userService.js  # 用户API服务
│   ├── stores/
│   │   └── auth.js         # 认证状态管理
│   ├── utils/
│   │   └── api.js          # Axios配置
│   ├── views/
│   │   ├── Login.vue       # 登录页
│   │   ├── Register.vue    # 注册页
│   │   ├── Dashboard.vue   # 首页
│   │   ├── TodoList.vue    # 待办事项
│   │   ├── Focus.vue       # 专注时间
│   │   └── Anniversary.vue # 纪念日
│   ├── App.vue             # 根组件
│   └── main.js             # 入口文件
├── vite.config.js          # Vite 配置
└── package.json
```

---

## 🔧 API 配置说明

### Vite 代理配置
在 `vite.config.js` 中配置了代理：
```javascript
server: {
  proxy: {
    '/api': {
      target: 'http://localhost:8080',
      changeOrigin: true
    }
  }
}
```

### Axios 配置
在 `src/utils/api.js` 中：
- 基础URL: `/api`（会被代理到 `http://localhost:8080/api`）
- 自动添加 token 到请求头
- 401 错误自动跳转登录
- 统一错误提示

---

## 🎨 UI 框架

使用 **Element Plus**，主要组件：
- `el-card` - 卡片容器
- `el-form` - 表单
- `el-input` - 输入框
- `el-button` - 按钮
- `el-message` - 消息提示
- `el-icon` - 图标

---

## 📊 状态管理

使用 **Pinia**，当前 store：
- `auth` - 认证状态
  - `user` - 当前用户信息
  - `token` - 登录令牌
  - `isAuthenticated` - 是否已登录
  - `login()` - 登录方法
  - `register()` - 注册方法
  - `logout()` - 登出方法

---

## 🔄 路由配置

| 路径 | 组件 | 需要认证 | 说明 |
|------|------|---------|------|
| `/login` | Login.vue | ❌ | 登录页 |
| `/register` | Register.vue | ❌ | 注册页 |
| `/` | - | ✅ | 重定向到 `/dashboard` |
| `/dashboard` | Dashboard.vue | ✅ | 首页 |
| `/todos` | TodoList.vue | ✅ | 待办事项 |
| `/focus` | Focus.vue | ✅ | 专注时间 |
| `/anniversaries` | Anniversary.vue | ✅ | 纪念日 |

---

## ⚠️ 注意事项

1. **确保后端已启动**: 前端需要连接到 `localhost:8080` 的后端服务
2. **数据库连接**: 确保后端数据库连接正常
3. **CORS 配置**: 后端需要允许跨域请求（已在后端配置 `@CrossOrigin`）
4. **Token 管理**: 目前使用用户ID作为临时token，后续可改为JWT

---

## 🎯 下一步开发

1. **实现侧边导航栏** - 统一布局，方便页面切换
2. **实现待办事项功能** - CRUD操作、优先级、倒计时
3. **实现专注时间功能** - 番茄钟倒计时
4. **实现纪念日功能** - 日历视图、倒计时展示
5. **优化UI/UX** - 响应式设计、动画效果

---

## 🐛 常见问题

### 1. 页面空白
- 检查浏览器控制台是否有错误
- 确保 `npm run dev` 正常运行
- 检查后端服务是否启动

### 2. 登录失败
- 检查后端服务是否正常
- 查看浏览器 Network 面板，检查 API 请求
- 确认用户名和密码正确

### 3. 路由跳转不正常
- 检查 LocalStorage 中的 token
- 清除浏览器缓存重试
- 检查路由守卫逻辑

---

## 📚 技术栈总结

| 技术 | 版本 | 作用 |
|------|------|------|
| Vue 3 | ^3.5.22 | 前端框架 |
| Vite | ^7.1.7 | 构建工具 |
| Vue Router | ^4.6.3 | 路由管理 |
| Pinia | ^3.0.3 | 状态管理 |
| Element Plus | ^2.11.5 | UI组件库 |
| Axios | ^1.12.2 | HTTP客户端 |
| date-fns | ^4.1.0 | 日期处理 |

---

**开发愉快！** 🚀
